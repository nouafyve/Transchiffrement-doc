\documentclass[a4paper,11pt,french]{report}
\usepackage[utf8]{inputenc}

\usepackage[T1]{fontenc}
\usepackage[francais]{babel} 
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm, includeheadfoot]{geometry} %pour les marges
\usepackage{lmodern}
\usepackage{pict2e}
\usepackage{fancyhdr} % Required for custom headers
\usepackage{lastpage} % Required to determine the last page for the footer
\usepackage{extramarks} % Required for headers and footers
\usepackage{graphicx} % Required to insert images
\usepackage{tabularx, longtable}
\usepackage{color, colortbl}
\usepackage{lscape}
%\usepackage[hidelinks]{hyperref}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{rotating}
\usepackage{gensymb}
\usepackage{tikz}
\usepackage{pgfplots}


\linespread{1.1} % Line spacing

% Set up the header and footer
\pagestyle{fancy}
\lhead{\textbf{\hmwkClass -- \hmwkSubject \\ \hmwkTitle \\ \hmwkDocName}} % Top left header
\rhead{\includegraphics[width=10em]{../../images/logo_univ.png}}
\lfoot{\lastxmark} % Bottom left footer
\cfoot{} % Bottom center footer
\rfoot{Page\ \thepage\ / \pageref{LastPage}} % Bottom right footer
\renewcommand\headrulewidth{0.4pt} % Size of the header rule
\renewcommand\footrulewidth{0.4pt} % Size of the footer rule

\setlength{\headheight}{40pt}

\newcommand{\hmwkTitle}{Projet transchiffrement SSL/TLS} % Assignment title
\newcommand{\hmwkClass}{Master 2 SSI } % Course/class
\newcommand{\hmwkAuthorName}{Julien BOURDON, Émile GÉNÉRAT} % Your name
\newcommand{\hmwkSubject}{} % Subject
\newcommand{\hmwkDocName}{Rapport final} % Document name

\newcommand{\version}{1.0} % Document version
\newcommand{\docDate}{20 février 2014} % Document date
\newcommand{\checked}{} % Checker name
\newcommand{\approved}{} % Approver name

\makeatletter
\newcommand{\resettranslate}{\let\translate\@firstofone}
\makeatother

\definecolor{gris}{rgb}{0.95, 0.95, 0.95}

\title{
\vspace{2in}
\textmd{\textbf{\hmwkClass :\ \hmwkTitle}}\\
\normalsize\vspace{0.1in}\small{Due\ on\ \hmwkDueDate}\\
\vspace{0.1in}\large{\textit{\hmwkClassInstructor\ \hmwkClassTime}}
\vspace{3in}
}

\author{\hmwkAuthorName}
\date{} % Insert date here if you want it to appear below your name


\usepackage{amsmath}
\begin{document}
\newcount\startdate
\newcount\daynum
%\pgfcalendardatetojulian{2013-01-021}{\startdate}
\pagestyle{fancy}

\vspace*{5cm}
\begin{center}\textbf{\Huge{\hmwkDocName}}\end{center}
\vspace*{4.5cm}
	

\fcolorbox{black}{gris}{
\begin{minipage}{15cm}
\begin{tabularx}{10cm}{lXl}
	\bfseries{Version} & & \version\\
	& & \\
	\bfseries{Date} & & \docDate\\
	& & \\
	\bfseries{Rédigé par} & & \hmwkAuthorName \\
	& & \\
	\bfseries{Relu par} & & \checked \\
	& & \\
	\bfseries{Approuvé par} & & \approved \\
	& & \\
\end{tabularx}
\end{minipage}
}

\newpage

%Tableau de mises à jour
\vspace*{1cm}
\begin{center}
\textbf{\huge{Versions}}\\
\vspace*{3cm}
	\begin{tabularx}{16cm}{|c|c|X|}
	\hline
	\bfseries{Version} & \bfseries{Date} & \bfseries{Modifications réalisées}\\
	\hline
	1.0 & 20/02/2014 & Création\\
	\hline
	\end{tabularx}
\end{center}

%La table des matières
\clearpage
\tableofcontents
\clearpage

\chapter{Présentation du projet}


\section{Introduction}
\input{../../PDD/introduction.tex}



\section{Spécifications}

\subsection{Cas d'utilisation}
\includegraphics[width=0.8\textwidth]{../../STB/images/cas_utilisation.pdf}

\subsection{Schéma du système}
\includegraphics[width=0.8\textwidth]{../../STB/images/schema_autorites.pdf}


\section{Gestion de projet}

\subsection{L'équipe}

Pour mener à bien ce projet, nous sommes une équipe de 5 étudiants.

Nous nous sommes répartis autour des deux parties principales du projet, le proxy et la recherche de collision.


\subsection{Présentation des livrables}

Les fonctionnalités finales attendues sont :
\begin{itemize}
\item une application servant de proxy  
\item un dossier de recherche sur les collisions MD5, ainsi qu'une mise en oeuvre.
\end{itemize}

\subsection{Évolution du planning et des priorités}

Nous avons rencontré des difficultés dans la réalisation du projet.
En accord avec le client, nous avons privilégié la réalisation du programme applicatif de proxy.

\subsection{Gestion des risques}

Nous avons établi une liste des risques qui pouvaient menacer la réussite du projet.

Ces risques ont fait l'objet d'une attention particulière, tout au long du projet.

\chapter{Proxy SSL/TLS}
\section{Analyse}

\subsection{Cibles visées par l'attaque}

\subsection{Protocole TLS}
\input{text/tls.tex}

\section{Conception}

\subsection{UML}
\includegraphics[width=0.8\textwidth]{images/uml.pdf}

\section{Implémentation}
\subsection{Faire accepter une autorité}
\input{text/Autorites.tex}

\subsection{Threads}

Une fois les connexions établies, nous 

\includegraphics[width=0.8\textwidth]{images/thread.pdf}

\subsection{Sockets}
Pour ce projet, nous devons faire communiquer les différents composants du projet ensemble. Ces composants sont :
\begin{itemize}
\item le navigateur du client ;
\item le proxy ;
\item le serveur Web.
\end{itemize}

Suite à la phase d'analyse, nous avons décidé d'utiliser les sockets, qui sont implémentées en Java.

\subsection{Keystore}
\input{text/java.tex}

\subsection{Journalisation des échanges}
Nous avons réalisé une classe, qui nous permet de stocker dans un fichier tout le trafic qui traverse le proxy.

Ensuite, nous avons développé une seconde méthode, pour chercher un éventuel champ password dans un formulaire POST, ou passé avec GET. Même si en théorie le mot de passe ne doit jamais être passé dans l'adresse, il existe toujours des développeurs peu précautionneux.

\section{Tests}

\chapter{Recherche de collision sur des certificats hachés en MD5}

\chapter{Synthèse}

\chapter{Annexes}
\section{Captures d'écran de l'installation de l'autorité}

\end{document}
